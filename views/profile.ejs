<% include ./partials/header.ejs %>

  <div class="w-full min-h-screen bg-zinc-900 text-white py-6 overflow-hidden">
    <!-- Navbar -->
    <div class="nav flex justify-between items-center px-5 sm:px-8 md:px-12">
      <h3 class="text-xl sm:text-2xl font-semibold tracking-tight">
        <%= user.name %>
      </h3>
      <div class="icons flex gap-5 text-[1.4rem]">
        <a href="/upload" class="hover:text-sky-400 transition"><i class="ri-add-box-line"></i></a>
        <a href="/story/add" class="hover:text-sky-400 transition"><i class="ri-add-circle-line"></i></a>
      </div>
    </div>

    <!-- Profile Section -->
    <div class="flex flex-col md:flex-row md:justify-between items-center px-6 md:px-16 mt-8 gap-8">
      <div class="w-36 h-36 sm:w-44 sm:h-44 md:w-52 md:h-52 rounded-full overflow-hidden bg-sky-100">
        <img src="/images/uploads/<%= user.profileImage %>" alt="" class="w-full h-full object-cover">
      </div>

      <div class="stats flex gap-8 sm:gap-12 md:gap-16 text-center">
        <div>
          <h3 class="text-lg sm:text-xl font-semibold">
            <%= user.posts.length %>
          </h3>
          <h4 class="opacity-70 text-sm sm:text-base">Posts</h4>
        </div>
        <div>
          <h3 class="text-lg sm:text-xl font-semibold">1000</h3>
          <h4 class="opacity-70 text-sm sm:text-base">Followers</h4>
        </div>
        <div>
          <h3 class="text-lg sm:text-xl font-semibold">50</h3>
          <h4 class="opacity-70 text-sm sm:text-base">Following</h4>
        </div>
      </div>
    </div>

    <!-- Bio Section -->
    <div class="dets px-6 md:px-16 mt-6 text-center md:text-left">
      <h3 class="text-xl font-semibold mb-1 tracking-tight">
        <%= user.name %>
      </h3>
      <p class="text-sm sm:text-base tracking-tight opacity-70 max-w-xl mx-auto md:mx-0">
        <%= user.bio %>
      </p>
    </div>

    <!-- Buttons -->
    <div class="px-6 md:px-16 mt-6 flex flex-wrap gap-3 justify-center md:justify-start">
      <a class="px-5 py-2 bg-zinc-800 text-sm sm:text-base rounded-md hover:bg-zinc-700 transition" href="/edit">Edit
        Profile</a>
      <a class="px-5 py-2 bg-red-500 text-sm sm:text-base rounded-md hover:bg-red-600 transition"
        href="/logout">Logout</a>
    </div>

    <!-- Posts Grid -->
    <div
      class="posts w-full px-6 md:px-16 mt-8 mb-10 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 sm:gap-3">
      <% if (user.posts.length> 0) { %>
        <% user.posts.forEach(post=> { %>
          <div class="aspect-square bg-sky-100 overflow-hidden rounded-md hover:scale-[1.02] transition">
            <img src="/images/uploads/<%= post.postImage %>" alt="" class="w-full h-full object-cover object-center">
          </div>
          <% }) %>
            <% } else { %>
              <% for (let i=0; i < 9; i++) { %>
                <div class="aspect-square bg-zinc-800 rounded-md"></div>
                <% } %>
                  <% } %>
    </div>
  </div>

  <% include ./partials/footer.ejs %>