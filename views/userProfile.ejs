<% include ./partials/header.ejs %>

    <div class="w-full min-h-screen bg-zinc-900 text-white overflow-hidden py-6">
        <!-- Navbar -->
        <div class="nav flex justify-between items-center px-5 sm:px-8 md:px-12">
            <h3 class="text-xl sm:text-2xl font-semibold tracking-tight">
                <%= userProfile.username %>
            </h3>
        </div>

        <!-- Profile Section -->
        <div class="flex flex-col md:flex-row md:justify-between items-center px-6 md:px-16 mt-8 gap-8">
            <div class="w-36 h-36 sm:w-44 sm:h-44 md:w-52 md:h-52 bg-sky-100 rounded-full overflow-hidden">
                <img class="w-full h-full object-cover" src="/images/uploads/<%= userProfile.profileImage %>" alt="">
            </div>

            <div class="stats flex gap-8 sm:gap-12 md:gap-16 text-center">
                <div>
                    <h3 class="text-lg sm:text-xl font-semibold">
                        <%= userProfile.posts.length %>
                    </h3>
                    <h4 class="opacity-70 text-sm sm:text-base">Posts</h4>
                </div>
                <div>
                    <h3 class="text-lg sm:text-xl font-semibold">
                        <%= userProfile.followers.length %>
                    </h3>
                    <h4 class="opacity-70 text-sm sm:text-base">Followers</h4>
                </div>
                <div>
                    <h3 class="text-lg sm:text-xl font-semibold">
                        <%= userProfile.following.length %>
                    </h3>
                    <h4 class="opacity-70 text-sm sm:text-base">Following</h4>
                </div>
            </div>
        </div>

        <!-- Bio Section -->
        <div class="dets px-6 md:px-16 mt-6 text-center md:text-left">
            <h3 class="text-xl sm:text-2xl font-semibold mb-1">
                <%= userProfile.name %>
            </h3>
            <p class="text-sm sm:text-base tracking-tight opacity-70 max-w-xl mx-auto md:mx-0">
                <%= userProfile.bio ?? "You have not set anything yet, (click edit profile to set)" %>
            </p>
        </div>

        <!-- Buttons -->
        <div class="px-6 md:px-16 mt-6 flex flex-wrap gap-3 justify-center md:justify-start">
            <% if (user.following.indexOf(userProfile._id)===-1) { %>
                <a class="px-6 py-2 bg-blue-500 text-sm sm:text-base rounded-md hover:bg-blue-600 transition"
                    href="/follow/<%= userProfile._id %>">Follow</a>
                <% } else { %>
                    <a class="px-6 py-2 bg-zinc-800 text-sm sm:text-base rounded-md hover:bg-zinc-700 transition"
                        href="/follow/<%= userProfile._id %>">Following</a>
                    <% } %>

                        <a class="px-6 py-2 bg-zinc-800 text-sm sm:text-base rounded-md hover:bg-zinc-700 transition"
                            href="https://www.beeper.com/" target="_blank">Message</a>
                        <a class="px-6 py-2 bg-zinc-800 text-sm sm:text-base rounded-md hover:bg-zinc-700 transition"
                            href="https://www.whatsapp.com/" target="_blank">Contact</a>
        </div>

        <!-- Posts Grid -->
        <div class="posts w-full px-6 md:px-16 mt-8 mb-12">
            <% if (userProfile.posts.length> 0) { %>
                <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 sm:gap-3">
                    <% userProfile.posts.slice().reverse().forEach(function(post){ %>
                        <div class="aspect-square bg-sky-100 overflow-hidden rounded-md hover:scale-[1.02] transition">
                            <img class="w-full h-full object-cover object-center"
                                src="/images/uploads/<%= post.postImage %>" alt="">
                        </div>
                        <% }) %>
                </div>
                <% } else { %>
                    <div class="w-full flex justify-center items-center min-h-[20vh]">
                        <h1 class="opacity-30 font-semibold text-[#dadada] text-center text-lg sm:text-xl">
                            No Posts yet...
                        </h1>
                    </div>
                    <% } %>
        </div>
    </div>

<% include ./partials/footer.ejs %>